<div class="header">
  <nav
    class="navbar navbar-expand-lg"
    id="main"
    [ngClass]="{ 'page-scroll-header': isScrolled }"
  >
    <div class="container">
      <app-categories-menu-dropdown
        [taxonomies]="taxonomies$ | async"
        [screenwidth]="screenwidth"
        [isScrolled]="isScrolled"
        *ngIf="!isMobile && isScrolled"
      ></app-categories-menu-dropdown>
      <a class="navbar-brand" routerLink="/" *ngIf="!isMobile">
        <img
          [src]="this.headerConfig.brand.logo"
          [alt]="this.headerConfig.brand.name"
          [width]="this.headerConfig.brand.width"
          [height]="this.headerConfig.brand.height"
          class="d-inline-block align-top"
          alt
        />
      </a>
      <a
        (click)="showModal()"
        for="main-nav-state"
        class="main-nav-trigger"
        *ngIf="isMobile"
        [ngClass]="{ 'main-nav-trigger-open': isModalShown }"
      >
        <span></span>
      </a>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div
        class="collapse navbar-collapse justify-content-end"
        id="navbarNavDropdown"
      >
        <app-header-search></app-header-search>
        <app-header-help-dropdown></app-header-help-dropdown>
        <app-profile-dropdown
          class="pr-2 border-left"
          [isAuthenticated]="isAuthenticated$ | async"
        ></app-profile-dropdown>
      </div>
      <div class="resheader row m-0 hidden-md hidden-lg" *ngIf="isMobile">
        <div class="mlogo">
          <a class="navbar-brand small-logo" routerLink="/" *ngIf="isMobile">
            <img
              [src]="this.headerConfig.brand.logo"
              [alt]="this.headerConfig.brand.name"
              [width]="this.headerConfig.brand.width"
              height="this.headerConfig.brand.height"
              class="d-inline-block align-top"
              alt
            />
          </a>
        </div>
        <div class="search">
          <app-header-search
            [isMobile]="isMobile"
            (onSubCatClicked)="childCatLoaded($event)"
            [isSearchopen]="isSearchopen"
          ></app-header-search>
        </div>
        <div class="profile">
          <app-profile-dropdown
            [isMobile]="isMobile"
            class="pr-2 "
            [isAuthenticated]="isAuthenticated$ | async"
          ></app-profile-dropdown>
        </div>
<!--        <div class="cart">
          <app-header-cart
            class="pl-2 border-left"
            [isMobile]="isMobile"
            [totalCartItems]="totalCartItems$ | async"
          ></app-header-cart>
        </div>-->
      </div>
    </div>
  </nav>
  <nav
    class="navbar navbar-expand-lg"
    id="sub-header"
    [ngClass]="{ 'hide-sub-header': isScrolled }"
  >
    <div class="container">
      <div class="collapse navbar-collapse left-content-start">
        <app-categories-menu-dropdown
          [screenwidth]="screenwidth"
          [taxonomies]="taxonomies$ | async"
        ></app-categories-menu-dropdown>
        <app-brand-menu-dropdown
          [brands]="brands$ | async"
        ></app-brand-menu-dropdown>
<!--        <div class="col text-right">
          <button type="button" class="btn shippingbtn">
            FREE 1-2 DAY SHIPPING OVER {{ currency }}{{ freeShippingAmount }}
            <i class="fa ml-2 fa-truck" aria-hidden="true"></i>
          </button>
        </div>-->
      </div>
    </div>
  </nav>
</div>
<div
  *ngIf="isModalShown"
  [config]="{ show: true, backdrop: false }"
  (onHidden)="onHidden()"
  bsModal
  #autoShownModal="bs-modal"
  class="modal fade"
  tabindex="-1"
  role="dialog"
  aria-labelledby="dialog-auto-name"
>
  <div class="modal-dialog  cat-mobile ">
    <div class="modal-content">
      <div class="modal-body">
        <app-category-mobile-menu
          (onSubCatClicked)="allmenuClosed($event)"
          [taxonomies]="taxonomies$ | async"
        ></app-category-mobile-menu>
      </div>
    </div>
  </div>
</div>
